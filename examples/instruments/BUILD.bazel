load("@rules_cc//cc:defs.bzl", "cc_library")

package(default_visibility = ["//visibility:public"])

cc_library(
    name = "basic_enveloped_voice",
    hdrs = ["basic_enveloped_voice.h"],
    deps = [
        "//barelymusician/dsp:envelope",
        "//barelymusician/dsp:voice",
    ],
)

cc_library(
    name = "basic_drumkit_instrument",
    srcs = ["basic_drumkit_instrument.cpp"],
    hdrs = ["basic_drumkit_instrument.h"],
    deps = [
        ":basic_enveloped_voice",
        ":instrument",
        "//barelymusician/dsp:sample_player",
        "//barelymusician/instrument:instrument_definition",
        "//examples/util:wav_file",
    ],
)

cc_library(
    name = "basic_synth_instrument",
    srcs = ["basic_synth_instrument.cpp"],
    hdrs = ["basic_synth_instrument.h"],
    deps = [
        ":basic_enveloped_voice",
        ":instrument",
        "//barelymusician/dsp:oscillator",
        "//barelymusician/dsp:polyphonic_voice",
        "//barelymusician/engine:note_utils",
        "//barelymusician/instrument:instrument_definition",
    ],
)

cc_library(
    name = "instrument",
    srcs = ["instrument.cpp"],
    hdrs = ["instrument.h"],
    deps = [
        "//barelymusician/base:logging",
        "//barelymusician/instrument:instrument_definition",
    ],
)
